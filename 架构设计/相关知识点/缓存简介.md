### 概述

缓存是计算机中常见的一个组件，其起到一个缓冲的作用，例如介于CPU和内存之间的缓存。

### 缓存穿透

访问一定不存在的数据，缓存不命中则从数据端直接获取，如果有大量的这种请求，会导致大量的请求直接到达数据端。

##### 解决方案

* 采用布隆过滤器，将可能存在的数据存储起来，通过过滤器将不存在的数据过滤掉。

* 缓存空

### 缓存击穿

在某个缓存在失效的一瞬间大量该缓存的请求进来，这样会有大量的请求直接到达数据端。

##### 解决方案

设置锁，避免多个请求同时访问某一数据。

### 缓存雪崩

缓存在某一时刻集体失效，导致所有的请求都从数据端获取，例如使用Redis缓存时，过期时间设置相同。

##### 解决方案

避免缓存在同一时刻集体失效，例如，Redis缓存设置一定范围内的随机失效时间。

### 双写一致性

##### 缓存和数据段严格一致

采用串行请求的方式，让所有请求串行化，一个一个的来，这样会严重降低性能。

##### 缓存和数据段非严格一致

先更新数据库，然后删除缓存。

如果是更新缓存，会出现脏数据，例如A线程修改数据，然后B线程同时也修改了同一数据，B线程修改缓存数据，最后A线程修改缓存数据，现在缓存中的数据已经不正确了，出现了脏数据。