### 死锁

##### 死锁必要条件

* 互斥条件

存在互斥资源，资源在一个时刻内只能由一个进程或线程占用，资源是排它的。

* 请求和保持条件

进程或线程在获取互斥资源时，如果互斥资源已被使用，那么该进程或线程会等待，这期间其会保持自己已获取的资源。

* 不剥夺条件

进程或线程获取到的资源只能由自己释放，不能被剥夺。

* 环路等待条件

存在资源获取循环链。

##### 避免死锁

只要死锁必要条件有一个不满足时，就不会发生死锁。

* 在进程或线程运行时，一次性获得其所有需要的资源，如果获取不到，则不运行。

* 如果进程或线程获取资源失败时，其要释放自己所占有的资源。

* 对资源进行编号，进程或线程获取资源时要按顺序获取。