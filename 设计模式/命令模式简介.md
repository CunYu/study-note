本文介绍了命令模式并附有java代码实现demo。内容仅供参考使用，有不足之处请及时指出，也欢迎大家交流探讨。

### 命令模式

命令模式是行为型模式的一种，其通过封装命令，实现了命令发起者与命令执行者的解耦。

### 场景

假设小赵是一家公司的老板，小钱是其秘书，平时工作中，小赵会下达命令给小钱，由小钱转达各部门处理，至于命令执行的过程，小赵并不会去关心，其只关心命令执行的结果，这种场景下，可以使用命令模式来实现。

### 示例

公司各部门

```
public interface Department {

    void work();
}
```

```
public class DevelopDepartment implements Department {

    @Override
    public void work() {
        System.out.println("开发部门开发软件");
    }
}
```

```
public class TestDepartment implements Department {

    @Override
    public void work() {
        System.out.println("测试部门测试软件");
    }
}
```

```
public class SellDepartment implements Department {

    @Override
    public void work() {
        System.out.println("销售部门销售软件");
    }
}
```

相关命令

```
public interface Order {

    void execute();
}
```

```
public class DevelopOrder implements Order {

    private DevelopDepartment developDepartment;

    public DevelopOrder() {
        this.developDepartment = new DevelopDepartment();
    }

    public void execute() {
        developDepartment.work();
    }
}
```

```
public class TestOrder implements Order {

    private TestDepartment testDepartment;

    public TestOrder() {
        this.testDepartment = new TestDepartment();
    }

    public void execute() {
        testDepartment.work();
    }
}
```

```
public class SellOrder implements Order {

    private SellDepartment sellDepartment;

    public SellOrder() {
        this.sellDepartment = new SellDepartment();
    }

    public void execute() {
        sellDepartment.work();
    }
}
```

```
public class AllWorkOrder implements Order {

    private DevelopDepartment developDepartment;
    private TestDepartment testDepartment;
    private SellDepartment sellDepartment;

    public AllWorkOrder() {
        this.developDepartment = new DevelopDepartment();
        this.testDepartment = new TestDepartment();
        this.sellDepartment = new SellDepartment();
    }

    public void execute() {
        developDepartment.work();
        testDepartment.work();
        sellDepartment.work();
    }
}
```

秘书

```
public class Secretary {

    private Order order;

    public void acceptOrder(Order order) {
        this.order = order;
    }

    public void execute() {
        order.execute();
    }
}
```

秘书接收各种命令并执行

```
Secretary secretary = new Secretary();

secretary.acceptOrder(new DevelopOrder());
secretary.execute();
secretary.acceptOrder(new TestOrder());
secretary.execute();
secretary.acceptOrder(new SellOrder());
secretary.execute();
secretary.acceptOrder(new AllWorkOrder());
secretary.execute();
```

输出

```
开发部门开发软件
测试部门测试软件
销售部门销售软件
开发部门开发软件
测试部门测试软件
销售部门销售软件
```