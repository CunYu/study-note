### 概述

数据在计算机中被称为机器数，其用二进制表示，用0和1表示，小数点隐含，不占位置。

机器数分为无符号数和有符号数，对于有符号数，其最高位为标识正负符号位，0为正数，1为负数。

若约定小数点位置在机器数最低位之后，则为纯整数，若约定小数点位置在机器数最高位之前，则为纯小数。

机器数有原码，反码，补码，移码等不同的编码方法（码制）。

### 进制

##### 二进制转十进制

``` text
101.01 = 1 * 2^2 + 0 * 2^1 + 1 * 2^0 + 0 * 2^-1 + 1 * 2^-2 = 5.25
```

##### 十进制转二进制

###### 整数

|除数|值|余数|
|:----:|:----:|:----:|
|2|5||
|2|2|1|
|2|1|0|
||0|1|

余数从下往上为101，故5的二进制位101.

###### 小数

|小数部分乘数|小数部分|整数部分|
|:----:|:----:|:----:|
|2|0.75||
|2|0.5|1|
||0|1|

整数部分从上往下为11，故0.75的二进制位0.11。

##### 注意

* 二进制表示数后面加b，使用时以0b开头。

* 八进制表示数后面加q，使用时以0开头。

* 十进制表示数后面加d。

* 十六进数表示数后面加h,使用时以0x开头。

### 码制

##### 原码

原码为符号位（最高位）加上数值的绝对值。

##### 反码

补码正数和原码一样，负数为原码除符号位外取反。

##### 补码

补码正数和原码一样，负数为反码加1。

##### 移码

机器字长为n时，偏移量为2^(n - 1)时为补码的符号位取反。

##### 注意

原码最符合人类的阅读习惯，但其在包含负数的运算时，符号位的处理变得十分不方便。

``` text
1 - 1 = 1 + (-1) = 0000 0001 + 1000 0001 = 1000 0010 = -2
```

在上面的表达式中，原码在计算包含负数的运算时，符号位如果也参与计算时，计算结果不正确，如果符号位单独处理，则使计算机电路设计变得复杂，故而反码出现了。

``` text
1 - 1 = 1 + (-1) = 0000 0001 + 1111 1110 = 1111 1111 = -0
```

由上可知，反码解决符号位的问题，但是会出现0有两种表达方式的情况，故而又出现了补码。

``` text
1 - 1 = 1 + (-1) = 0000 0001 = 1111 1111 = 0000 0000 = 0
```

##### 示例

|数值|原码|反码|补码|移码|
|:----:|:----:|:----:|:----:|:----:|
|1|0000 0001|0000 0001|0000 0001|1000 0001|
|-1|1000 0001|1111 1110|1111 1111|0111 1111|
|0.5|0.100 0000|0.100 0000|0.100 0000|1.100 0000|
|-0.5|1.100 0000|1.011 1111|1.100 0000|0.100 0000|

### 定点数/浮点数

##### 定点数

定点数是指小数点位置不变的数。

定点整数，纯整数，小数点在最低有效数值位之后。定点小数，纯小数，小数点在最高有效数值位之前。

##### 浮点数

浮点数是值小数点位置不固定的数。

``` text
N = 2^E * F

N 为二进制数

E 为阶码

F 为尾数
```

浮点数表示格式

|阶符|阶码|数符|尾数|
|:----:|:----:|:----:|:----:|
|指数的正负|指数|数的正负|数|

###### 工业标准IEEE754

``` text
(-1)^S * 2^E * B0 * B1 * ... * B(P-1)

(-1)^S为浮点数的数符

E为指数(阶码)

B0 * B1 * ... * B(P-1)为尾数，长度为P位，用原码表示。
```

|参数|单精度浮点数|双精度浮点数|扩充精度浮点数|
|:----|:----:|:----:|:----:|
|浮点数字长|32|64|80|
|尾数长度P|23|52|64|
|符号位S|1|1|1|
|指数长度E|8|11|15|
|最大指数|+127|+1023|+16383|
|最小指数|-126|-1022|-16283|
|指数偏移量|+127|+1023|+16383|
|实数范围|10^-38 ~ 10^38|10^-308 ~ 10^308|10^-4932 ~ 10^4932|

根据IEEE754标准可分为三类

* 规格化的数

将5.25按IEEE754标准转为单精度浮点数

``` text
先转为二进制

5.25 = 101.01

101.01 = 1.0101 * 2^2

正数的数符为0

阶码为2 + 127的移码1000 0001

尾数1.0101去掉1补全23位为0101 0000 0000 0000 0000 000

故单精度浮点数为

0 1000 0001 0101 0000 0000 0000 0000 000
```

* 非规格化的数

阶码部分的二进制全为0。

* 特殊值

阶码部分的二进制全为1。