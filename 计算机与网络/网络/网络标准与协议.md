### 协议概述

协议是网络通信过程中的规则标准，其定义了通信时数据的格式，数据的传送时序及数据相应的控制应答信息等内容。

### 网络标准

* 电信标准

国际电信联盟（International TeleCommunication Union，ITU），1865年成立，1947年成为联合国的一个组织，其由3部分组成，
ITU-R（无线通信部门），ITU-T（电信标准部门），ITU-D（开发部门）。

* 国际标准

ISO 国际标准化组织。

ANSI 美国国家标准研究所，ISO的美国代表。

NIST 美国国家标准和技术研究所，美国商业部的标准化机构。

IEEE 电气和电子工程师协会。

EIA 电子工业协会

* Internet 标准

民间性质的协会ISOC（Internet Society）进行必要的协调和管理，其设有Internet总体管理机构结构（IAB）。

网络信息中心（NIC）管理IP地址。

### 局域网协议

局域网基本组成：网络服务器，网络工作站，网络适配器及传输介质。

决定局域网特性的主要技术：传输介质，拓扑结构，共享资源的介质访问控制方法。

不同局域网协议中最重要的区别就是介质访问控制方法。

##### LAN模型

ISO参考模型并不是一个标准，其是一个参照基准。

IEEE 802 局域网标准中只定义了物理层和数据链路层两层，并在此基础上将数据链路层分为逻辑链路控制（Logical Link Control，LLC）子层和介质访问控制（Medium Access Control，MAC）子层，其加强了数据链路层的功能，把网络层中的寻址，排序，流控和差错控制等功能放在LLC子层实现。

<img src="/计算机与网络/网络/image/LAN模型.png" alt="LAN模型"/>

##### 以太网（IEEE 802.3标准）

以太网的介质访问控制方法是带冲突检测的载波监听多路访问协议（Carrier-Sense Multiple Access with Collision Detection，CSMA/CD）技术。

以太网是广播式的，每个节点都可以看到网络中的所有信息。

以太网主要包括三种类型

IEEE 802.3中定义的局域网，速度为10Mbps，传输介质为细同轴电缆。

IEEE 802.3u中定义的快速以太网，速度为100Mbps，传输介质为双绞线。

IEEE 802.3z中定义的千兆以太网，速度为1000Mbps，传输介质为光纤或双绞线。

###### CSMA/CD介质访问协议

CSMA/CD介质访问协议是让整个网络中的主机已竞争的方式抢夺介质以传送数据。

数据通信时先监测信道，信道空闲，则发送数据，如果信道忙，则继续侦听，直到信道空闲则发送数据，开始发送数据后，会通过边发边接受的方式监测发收信息是否相等一段时间，如果不相等，则证明发送的信息遇到碰撞冲突，则立即停止发送，并向总线发送一串阻塞信号，告知信道上的主机已发生冲突，各个主机接收到信号后，会随机等待一段时间，等待最短的主机将重新获取信道，重新发送信息。

##### 令牌环网（IEEE 802.5）

令牌环是环形网中最普遍采用的介质访问控制方法，其介质访问控制方法是令牌环控制技术。

##### FDDI

FDDI（Fiber Distributed Data Interface），光纤分布式数据接口，其介质访问方法类似令牌环网，采用光纤作为传输介质。

##### 无线局域网（CSMA/CA）

无线局域的介质访问控制方法是带冲突避免的载波侦听多路访问方法（CSMA/CA）。

侦听载波是由两种方式实现的，一是实际去检测是否有电波在传，然后加上优先级控制。二是虚拟的侦听载波，通知其它主机待再过多久我们要传数据，避免冲突。

### 广域网协议

##### 点对点协议（PPP）

点对点协议主要用于拨号上网广域连接模式。

##### 数字用户线（xDSL）

##### 数字专线（DDN）

##### 帧中继（FR）

##### 异步传输模式（ATM）

##### X.25协议

### TCP/IP协议族

TCP/IP是Internet的核心协议，其有五大基本特性。

逻辑编址（IP），路由选择，域名解析，错误检测和流量控制。

##### TCP/IP分层模型

<table>
    <tr align = "center">
    	<td>应用层</td>
        <td rowspan = "3">文件传输协议（FTP）</td>
        <td rowspan = "3">远程协议登陆（Telnet）</td>
        <td rowspan = "3">电子邮件协议（SMTP）</td>
        <td rowspan = "3">网络文件服务协议（NFS）</td>
        <td rowspan = "3">网络管理协议（SNMP）</td>
        <td rowspan = "3">应用层</td>
    </tr>
    <tr align = "center">
    	<td>表示层</td>
    </tr>
    <tr align = "center">
    	<td>会话层</td>
    </tr>
    <tr align = "center">
    	<td>传输层</td>
        <td colspan = "5">TCP&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;UDP</td>
        <td>传输层</td>
    </tr>
    <tr align = "center">
    	<td>网络层</td>
        <td colspan = "2">IP</td>
        <td>ICMP</td>
        <td colspan = "2">ARP&emsp;&emsp;&emsp;&emsp;RARP</td>
        <td>网际层</td>
    </tr>
    <tr align = "center">
    	<td>数据链路层</td>
        <td rowspan = "2">以太网（Ethernet IEEE 802.3）</td>
        <td rowspan = "2">FDDI</td>
        <td rowspan = "2">令牌环网（Token-Ring IEEE 802.5）</td>
        <td rowspan = "2">ARCnet</td>
        <td rowspan = "2">PPP/SLIP</td>
        <td>网络接口层</td>
    </tr>
    <tr align = "center">
    	<td>物理层</td>
        <td>硬件层</td>
    </tr>
</table>

##### IP

IP是无连接，不可靠的。无连接指的是其在不确定目标系统是否已准备好就发送数据，不可靠指的是目标系统不对接受的数据进行确认，IP是一种尽力传送的通信协议。

##### ARP和RARP

地址解析协议（Address Resolution Protocol，ARP）及反地址解析协议（RARP），ARP的作用是将IP地址转换为物理地址，RARP的作用是将物理地址转换为IP地址。

##### ICMP

ICMP是一种专门用于发送差错报文的协议。

##### TCP

TCP是可靠的，面向连接的，全双工的。

TCP采用了重发技术，发送方启动一个定时器，再将数据包发出，接收方收到了信息会给发送方一个确认，如果发送方在定时器到点之前没有接收到确认信息，就重新发送这个数据包。

TCP在源主机和目标主机之间建立连接需要三次握手，关闭连接需要四次挥手。

<img src="/计算机与网络/网络/image/TCP三次握手四次挥手.png" alt="TCP三次握手四次挥手"/>

##### UDP

用户数据报协议（User Datagram Protocol，UDP）是无连接，不可靠的。