### 概述

* 聚合索引是指数据的物理存储顺序和索引的顺序保持一致。

* 非聚合索引（辅助索引）是指数据的物理存储顺序和索引的顺序不一致。

### 说明

##### Innodb存储引擎

在Innodb存储引擎中，主键是聚合索引，表其实就是聚合索引。

如果主键不存在，那么表的第一个非空唯一索引作为聚合索引。

如果主键，非空唯一索引都不存在，那么会生成一个隐藏的列作为聚合索引。

一个表只能有一个聚合索引。

##### MyISAM存储引擎

在MyISAM存储引擎中，索引和数据是分开存储的，所以其不存在聚合索引。

### 二次查询

##### Innodb存储引擎

Innodb存储引擎使用B+树来实现索引。

聚合索引的叶子节点存储的是相应的数据记录。

非聚合索引的叶子节点存储的是聚合索引值，所以使用非聚合索引时，需要查询两次。

##### MyISAM存储引擎

MyISAM存储引擎使用B+树来实现索引，其叶子节点存储的是数据的地址。